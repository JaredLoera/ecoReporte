<ion-header>
    <ion-toolbar>
      <ion-buttons slot="end">
        <ion-icon name="notifications-outline" size="large" class="iconNot" (click)="requestPermission()"><ion-button ></ion-button></ion-icon>
      </ion-buttons>
      <ion-title>dashboard</ion-title>
    </ion-toolbar>
  </ion-header>
<ion-content class="ion-padding">
  <div class="botones-container">
    <ion-button fill="outline" color="primary" class="boton-reportes">Mis Reportes</ion-button>
    <ion-button color="success" class="boton-nuevo" routerLink="/dashboard/create">Nuevo Reporte</ion-button>
  </div>

  <div class="reportes-section">
    <h1>Reportes actuales</h1>
    @if (reports.length == 0) {
      <div style="text-align: center;">
        <h1>No tienes reportes en curso.</h1>
      </div>
    }
@for (report of reports; track $index) {
    <ion-card class="reporte-card">
      <div class="reporte-header">
        @if (report.reportStatus.name == "Pendiente") {
           <div class="circulo-rojo" style="width: 20px; height: 20px; background-color: green; border-radius: 50%; display: inline-block;"></div>
        }
        @else{
            <div class="circulo-rojo" style="width: 20px; height: 20px; background-color: yellow; border-radius: 50%; display: inline-block;"></div>
        }
        <span>Reporte {{ report.id }}</span>
      </div>
      <div class="reporte-detalle">
        <p><strong>Status:</strong> {{ report.reportStatus.name }}</p>
        <p><strong>Tipo:</strong> {{ report.reportType.name }}</p>
        <p><strong>Descripci√≥n:</strong> {{ report.description }}</p>
        <p><strong>Fecha:</strong> {{ report.createdAt }}</p>
      </div>
    </ion-card>
    }
  </div>
</ion-content>